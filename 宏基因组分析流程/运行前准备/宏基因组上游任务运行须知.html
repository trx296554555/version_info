<html>
<head>
<style>.markdown-body{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;margin:0;color:#24292f;background-color:#fff;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Noto Sans",Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji";font-size:16px;line-height:1.5;word-wrap:break-word}.markdown-body .octicon{display:inline-block;fill:currentColor;vertical-align:text-bottom}.markdown-body h1:hover .anchor .octicon-link:before,.markdown-body h2:hover .anchor .octicon-link:before,.markdown-body h3:hover .anchor .octicon-link:before,.markdown-body h4:hover .anchor .octicon-link:before,.markdown-body h5:hover .anchor .octicon-link:before,.markdown-body h6:hover .anchor .octicon-link:before{width:16px;height:16px;content:' ';display:inline-block;background-color:currentColor;-webkit-mask-image:url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' version='1.1' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg>");mask-image:url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' version='1.1' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg>")}.markdown-body details,.markdown-body figcaption,.markdown-body figure{display:block}.markdown-body summary{display:list-item}.markdown-body [hidden]{display:none!important}.markdown-body a{background-color:transparent;color:#0969da;text-decoration:none}.markdown-body abbr[title]{border-bottom:none;text-decoration:underline dotted}.markdown-body b,.markdown-body strong{font-weight:600}.markdown-body dfn{font-style:italic}.markdown-body h1{margin:.67em 0;font-weight:600;padding-bottom:.3em;font-size:2em;border-bottom:1px solid #d7dde3}.markdown-body mark{background-color:#fff8c5;color:#24292f}.markdown-body small{font-size:90%}.markdown-body sub,.markdown-body sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}.markdown-body sub{bottom:-.25em}.markdown-body sup{top:-.5em}.markdown-body img{border-style:none;max-width:100%;box-sizing:content-box;background-color:#fff}.markdown-body code,.markdown-body kbd,.markdown-body pre,.markdown-body samp{font-family:monospace;font-size:1em}.markdown-body figure{margin:1em 40px}.markdown-body hr{box-sizing:content-box;overflow:hidden;background:0 0;border-bottom:1px solid #d7dde3;height:.25em;padding:0;margin:24px 0;background-color:#d0d7de;border:0}.markdown-body input{font:inherit;margin:0;overflow:visible;font-family:inherit;font-size:inherit;line-height:inherit}.markdown-body [type=button],.markdown-body [type=reset],.markdown-body [type=submit]{-webkit-appearance:button}.markdown-body [type=checkbox],.markdown-body [type=radio]{box-sizing:border-box;padding:0}.markdown-body [type=number]::-webkit-inner-spin-button,.markdown-body [type=number]::-webkit-outer-spin-button{height:auto}.markdown-body [type=search]::-webkit-search-cancel-button,.markdown-body [type=search]::-webkit-search-decoration{-webkit-appearance:none}.markdown-body ::-webkit-input-placeholder{color:inherit;opacity:.54}.markdown-body ::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}.markdown-body a:hover{text-decoration:underline}.markdown-body ::placeholder{color:#6e7781;opacity:1}.markdown-body hr::before{display:table;content:""}.markdown-body hr::after{display:table;clear:both;content:""}.markdown-body table{border-spacing:0;border-collapse:collapse;display:block;width:max-content;max-width:100%;overflow:auto}.markdown-body td,.markdown-body th{padding:0}.markdown-body details summary{cursor:pointer}.markdown-body details:not([open])>:not(summary){display:none!important}.markdown-body [role=button]:focus,.markdown-body a:focus,.markdown-body input[type=checkbox]:focus,.markdown-body input[type=radio]:focus{outline:2px solid #0969da;outline-offset:-2px;box-shadow:none}.markdown-body [role=button]:focus:not(:focus-visible),.markdown-body a:focus:not(:focus-visible),.markdown-body input[type=checkbox]:focus:not(:focus-visible),.markdown-body input[type=radio]:focus:not(:focus-visible){outline:solid 1px transparent}.markdown-body [role=button]:focus-visible,.markdown-body a:focus-visible,.markdown-body input[type=checkbox]:focus-visible,.markdown-body input[type=radio]:focus-visible{outline:2px solid #0969da;outline-offset:-2px;box-shadow:none}.markdown-body a:not([class]):focus,.markdown-body a:not([class]):focus-visible,.markdown-body input[type=checkbox]:focus,.markdown-body input[type=checkbox]:focus-visible,.markdown-body input[type=radio]:focus,.markdown-body input[type=radio]:focus-visible{outline-offset:0}.markdown-body kbd{display:inline-block;padding:3px 5px;font:11px ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;line-height:10px;color:#24292f;vertical-align:middle;background-color:#f6f8fa;border:solid 1px rgba(175,184,193,.2);border-bottom-color:rgba(175,184,193,.2);border-radius:6px;box-shadow:inset 0 -1px 0 rgba(175,184,193,.2)}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin-top:24px;margin-bottom:16px;font-weight:600;line-height:1.25}.markdown-body h2{font-weight:600;padding-bottom:.3em;font-size:1.5em;border-bottom:1px solid #d7dde3}.markdown-body h3{font-weight:600;font-size:1.25em}.markdown-body h4{font-weight:600;font-size:1em}.markdown-body h5{font-weight:600;font-size:.875em}.markdown-body h6{font-weight:600;font-size:.85em;color:#57606a}.markdown-body p{margin-top:0;margin-bottom:10px}.markdown-body blockquote{margin:0;padding:0 1em;color:#57606a;border-left:.25em solid #d0d7de}.markdown-body ol,.markdown-body ul{margin-top:0;margin-bottom:0;padding-left:2em}.markdown-body ol ol,.markdown-body ul ol{list-style-type:lower-roman}.markdown-body ol ol ol,.markdown-body ol ul ol,.markdown-body ul ol ol,.markdown-body ul ul ol{list-style-type:lower-alpha}.markdown-body dd{margin-left:0}.markdown-body code,.markdown-body samp,.markdown-body tt{font-family:ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;font-size:12px}.markdown-body pre{margin-top:0;margin-bottom:0;font-family:ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;font-size:12px;word-wrap:normal}.markdown-body .octicon{display:inline-block;overflow:visible!important;vertical-align:text-bottom;fill:currentColor}.markdown-body input::-webkit-inner-spin-button,.markdown-body input::-webkit-outer-spin-button{margin:0;-webkit-appearance:none;appearance:none}.markdown-body::before{display:table;content:""}.markdown-body::after{display:table;clear:both;content:""}.markdown-body>:first-child{margin-top:0!important}.markdown-body>:last-child{margin-bottom:0!important}.markdown-body a:not([href]){color:inherit;text-decoration:none}.markdown-body .absent{color:#cf222e}.markdown-body .anchor{float:left;padding-right:4px;margin-left:-20px;line-height:1}.markdown-body .anchor:focus{outline:0}.markdown-body blockquote,.markdown-body details,.markdown-body dl,.markdown-body ol,.markdown-body p,.markdown-body pre,.markdown-body table,.markdown-body ul{margin-top:0;margin-bottom:16px}.markdown-body blockquote>:first-child{margin-top:0}.markdown-body blockquote>:last-child{margin-bottom:0}.markdown-body h1 .octicon-link,.markdown-body h2 .octicon-link,.markdown-body h3 .octicon-link,.markdown-body h4 .octicon-link,.markdown-body h5 .octicon-link,.markdown-body h6 .octicon-link{color:#24292f;vertical-align:middle;visibility:hidden}.markdown-body h1:hover .anchor,.markdown-body h2:hover .anchor,.markdown-body h3:hover .anchor,.markdown-body h4:hover .anchor,.markdown-body h5:hover .anchor,.markdown-body h6:hover .anchor{text-decoration:none}.markdown-body h1:hover .anchor .octicon-link,.markdown-body h2:hover .anchor .octicon-link,.markdown-body h3:hover .anchor .octicon-link,.markdown-body h4:hover .anchor .octicon-link,.markdown-body h5:hover .anchor .octicon-link,.markdown-body h6:hover .anchor .octicon-link{visibility:visible}.markdown-body h1 code,.markdown-body h1 tt,.markdown-body h2 code,.markdown-body h2 tt,.markdown-body h3 code,.markdown-body h3 tt,.markdown-body h4 code,.markdown-body h4 tt,.markdown-body h5 code,.markdown-body h5 tt,.markdown-body h6 code,.markdown-body h6 tt{padding:0 .2em;font-size:inherit}.markdown-body summary h1,.markdown-body summary h2,.markdown-body summary h3,.markdown-body summary h4,.markdown-body summary h5,.markdown-body summary h6{display:inline-block}.markdown-body summary h1 .anchor,.markdown-body summary h2 .anchor,.markdown-body summary h3 .anchor,.markdown-body summary h4 .anchor,.markdown-body summary h5 .anchor,.markdown-body summary h6 .anchor{margin-left:-40px}.markdown-body summary h1,.markdown-body summary h2{padding-bottom:0;border-bottom:0}.markdown-body ol.no-list,.markdown-body ul.no-list{padding:0;list-style-type:none}.markdown-body ol[type=a]{list-style-type:lower-alpha}.markdown-body ol[type=A]{list-style-type:upper-alpha}.markdown-body ol[type=i]{list-style-type:lower-roman}.markdown-body ol[type=I]{list-style-type:upper-roman}.markdown-body ol[type="1"]{list-style-type:decimal}.markdown-body div>ol:not([type]){list-style-type:decimal}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:0;margin-bottom:0}.markdown-body li>p{margin-top:16px}.markdown-body li+li{margin-top:.25em}.markdown-body dl{padding:0}.markdown-body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:600}.markdown-body dl dd{padding:0 16px;margin-bottom:16px}.markdown-body table th{font-weight:600}.markdown-body table td,.markdown-body table th{padding:6px 13px;border:1px solid #d0d7de}.markdown-body table tr{background-color:#fff;border-top:1px solid #d7dde3}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}.markdown-body table img{background-color:transparent}.markdown-body img[align=right]{padding-left:20px}.markdown-body img[align=left]{padding-right:20px}.markdown-body .emoji{max-width:none;vertical-align:text-top;background-color:transparent}.markdown-body span.frame{display:block;overflow:hidden}.markdown-body span.frame>span{display:block;float:left;width:auto;padding:7px;margin:13px 0 0;overflow:hidden;border:1px solid #d0d7de}.markdown-body span.frame span img{display:block;float:left}.markdown-body span.frame span span{display:block;padding:5px 0 0;clear:both;color:#24292f}.markdown-body span.align-center{display:block;overflow:hidden;clear:both}.markdown-body span.align-center>span{display:block;margin:13px auto 0;overflow:hidden;text-align:center}.markdown-body span.align-center span img{margin:0 auto;text-align:center}.markdown-body span.align-right{display:block;overflow:hidden;clear:both}.markdown-body span.align-right>span{display:block;margin:13px 0 0;overflow:hidden;text-align:right}.markdown-body span.align-right span img{margin:0;text-align:right}.markdown-body span.float-left{display:block;float:left;margin-right:13px;overflow:hidden}.markdown-body span.float-left span{margin:13px 0 0}.markdown-body span.float-right{display:block;float:right;margin-left:13px;overflow:hidden}.markdown-body span.float-right>span{display:block;margin:13px auto 0;overflow:hidden;text-align:right}.markdown-body code,.markdown-body tt{padding:.2em .4em;margin:0;font-size:85%;white-space:break-spaces;background-color:rgba(175,184,193,.2);border-radius:6px}.markdown-body code br,.markdown-body tt br{display:none}.markdown-body del code{text-decoration:inherit}.markdown-body samp{font-size:85%}.markdown-body pre code{font-size:100%}.markdown-body pre>code{padding:0;margin:0;word-break:normal;white-space:pre;background:0 0;border:0}.markdown-body .highlight{margin-bottom:16px}.markdown-body .highlight pre{margin-bottom:0;word-break:normal}.markdown-body .highlight pre,.markdown-body pre{padding:16px;overflow:auto;font-size:85%;line-height:1.45;background-color:#f6f8fa;border-radius:6px}.markdown-body pre code,.markdown-body pre tt{display:inline;max-width:auto;padding:0;margin:0;overflow:visible;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}.markdown-body .csv-data td,.markdown-body .csv-data th{padding:5px;overflow:hidden;font-size:12px;line-height:1;text-align:left;white-space:nowrap}.markdown-body .csv-data .blob-num{padding:10px 8px 9px;text-align:right;background:#fff;border:0}.markdown-body .csv-data tr{border-top:0}.markdown-body .csv-data th{font-weight:600;background:#f6f8fa;border-top:0}.markdown-body [data-footnote-ref]::before{content:"["}.markdown-body [data-footnote-ref]::after{content:"]"}.markdown-body .footnotes{font-size:12px;color:#57606a;border-top:1px solid #d0d7de}.markdown-body .footnotes ol{padding-left:16px}.markdown-body .footnotes ol ul{display:inline-block;padding-left:16px;margin-top:16px}.markdown-body .footnotes li{position:relative}.markdown-body .footnotes li:target::before{position:absolute;top:-8px;right:-8px;bottom:-8px;left:-24px;pointer-events:none;content:"";border:2px solid #0969da;border-radius:6px}.markdown-body .footnotes li:target{color:#24292f}.markdown-body .footnotes .data-footnote-backref g-emoji{font-family:monospace}.markdown-body .pl-c{color:#6e7781}.markdown-body .pl-c1,.markdown-body .pl-s .pl-v{color:#0550ae}.markdown-body .pl-e,.markdown-body .pl-en{color:#8250df}.markdown-body .pl-s .pl-s1,.markdown-body .pl-smi{color:#24292f}.markdown-body .pl-ent{color:#116329}.markdown-body .pl-k{color:#cf222e}.markdown-body .pl-pds,.markdown-body .pl-s,.markdown-body .pl-s .pl-pse .pl-s1,.markdown-body .pl-sr,.markdown-body .pl-sr .pl-cce,.markdown-body .pl-sr .pl-sra,.markdown-body .pl-sr .pl-sre{color:#0a3069}.markdown-body .pl-smw,.markdown-body .pl-v{color:#953800}.markdown-body .pl-bu{color:#82071e}.markdown-body .pl-ii{color:#f6f8fa;background-color:#82071e}.markdown-body .pl-c2{color:#f6f8fa;background-color:#cf222e}.markdown-body .pl-sr .pl-cce{font-weight:700;color:#116329}.markdown-body .pl-ml{color:#3b2300}.markdown-body .pl-mh,.markdown-body .pl-mh .pl-en,.markdown-body .pl-ms{font-weight:700;color:#0550ae}.markdown-body .pl-mi{font-style:italic;color:#24292f}.markdown-body .pl-mb{font-weight:700;color:#24292f}.markdown-body .pl-md{color:#82071e;background-color:#ffebe9}.markdown-body .pl-mi1{color:#116329;background-color:#dafbe1}.markdown-body .pl-mc{color:#953800;background-color:#ffd8b5}.markdown-body .pl-mi2{color:#eaeef2;background-color:#0550ae}.markdown-body .pl-mdr{font-weight:700;color:#8250df}.markdown-body .pl-ba{color:#57606a}.markdown-body .pl-sg{color:#8c959f}.markdown-body .pl-corl{text-decoration:underline;color:#0a3069}.markdown-body g-emoji{display:inline-block;min-width:1ch;font-family:"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";font-size:1em;font-style:normal!important;font-weight:400;line-height:1;vertical-align:-.075em}.markdown-body g-emoji img{width:1em;height:1em}.markdown-body .task-list-item{list-style-type:none}.markdown-body .task-list-item label{font-weight:400}.markdown-body .task-list-item.enabled label{cursor:pointer}.markdown-body .task-list-item+.task-list-item{margin-top:4px}.markdown-body .task-list-item .handle{display:none}.markdown-body .task-list-item-checkbox{margin:0 .2em .25em -1.4em;vertical-align:middle}.markdown-body .contains-task-list:dir(rtl) .task-list-item-checkbox{margin:0 -1.6em .25em .2em}.markdown-body .contains-task-list{position:relative}.markdown-body .contains-task-list:focus-within .task-list-item-convert-container,.markdown-body .contains-task-list:hover .task-list-item-convert-container{display:block;width:auto;height:24px;overflow:visible;clip:auto}.markdown-body ::-webkit-calendar-picker-indicator{filter:invert(50%)}</style>
<style>code[class*=language-],pre[class*=language-]{color:#000;text-shadow:0 1px #fff;font-family:Consolas,Monaco,"Andale Mono","Ubuntu Mono",monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection{text-shadow:none;background:#b3d4fc}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{}:not(pre)>code[class*=language-]{padding:.1em;;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}</style>
<style>.life404 {width: 100%;max-width: 50%;margin: 0 auto;padding: 20px;border-width: 1px;border-style: solid;border-color: rgb(225, 228, 232);border-image: initial;}</style>
</head>
<body class="_theme-github">
<div id="_html" class="markdown-body life404" style="visibility: visible;">
<h1>宏基因组上游任务运行须知</h1>
<h3>2024年12月30日</h3>
<hr />
<blockquote>
<p>本文档为宏基因组上游任务 <strong>运行前</strong>，需要项目负责人准备的流程与注意事项，包括任务数据文件准备、任务数据信息表准备、任务运行配置等内容。</p>
<ul>
<li>本文档仅适用于标准宏基因组上游分析任务，<strong>基于Reads的物种注释与功能注释</strong>。有特殊需要的非标准任务请单独联系。</li>
<li>本文档中的路径、文件名等信息仅为示例，实际操作时请根据实际情况进行修改。</li>
<li>请严格按照本文档的要求准备数据文件、信息表、配置文件等内容，以保证任务能够尽快开始运行。</li>
</ul>
</blockquote>
<h2>1. 任务数据文件准备</h2>
<h3>1.1 请将原始数据放置在1块（最好）或多块移动硬盘中，移动硬盘的文件系统请使用 <code>NTFS</code>。</h3>
<blockquote>
<p>文件系统类型在Windows系统中可以通过右键点击硬盘，选择“属性”查看。格式化也可以在Windows系统中右键点击硬盘，选择“格式化”进行。苹果系统盘（APFS）部分服务器可能无法识别，建议使用Windows系统格式化。exFAT格式因为没有日志系统，部分情况下可能会出现数据丢失的情况，不建议使用。</p>
</blockquote>
<h3>1.2 请将原始数据文件按照样本进行分类，每个样本一个文件夹，文件夹名称为样本名。</h3>
<blockquote>
<p>测序文件默认为双端测序文件，reads length为 <strong>150bp</strong>。reads length等会影响软件运行参数，如果您的数据不符合这个要求，请联系我们进行调整。</p>
</blockquote>
<h3>1.3 请将每个样本文件夹中的原始双端测序数据文件（压缩的fastq格式）命名为 <code>样本名_1.clean.fq.gz</code> 和 <code>样本名_2.clean.fq.gz</code>。</h3>
<blockquote>
<p>我们一般使用的是测序公司返回的做过一次质控的数据，因此文件名中包含了 <code>clean</code> 字样。如果您的数据没有经过质控，请将 <code>clean</code>
替换为 <code>raw</code>。注意：一批要run的样本需要全是clean或者全是raw，不能混杂，处理流程不同</p>
</blockquote>
<h3>1.4 确保每个样本文件夹中有一个名为 <strong>MD5.txt</strong> 的文件，文件中包含了该样本文件夹中所有测序文件的MD5值。</h3>
<blockquote>
<p>MD5文件的内容格式如下：</p>
</blockquote>
<pre><code class="language-shell">cat MD5.txt
266b3528cfd65e6a5808649cf906d85a  样本名_1.clean.fq.gz
da273b2c3e84966d55c48d1a47ce7d6d  样本名_2.clean.fq.gz</code></pre>
<blockquote>
<p>原始MD5值一般由测序公司在数据交付时提供，用于验证数据完整性。如果您没有MD5值，在确保文件没有损坏的情况下，在windows系统下可以使用 <code>certUtil -hashfile 文件名 MD5</code>
命令生成MD5值。在Linux系统下可以使用 <code>md5sum 文件名</code> 命令生成MD5值。<strong>文件损坏会导致不可控结果，因此请务必保证数据完整性。</strong></p>
</blockquote>
<h3>1.5 完整的数据文件目录结构示例：</h3>
<pre><code class="language-shell">$tree /data/projectA/00_cleandata/ 
.
├── SAM001
│   ├── SAM001_1.clean.fq.gz
│   ├── SAM001_2.clean.fq.gz
│   └── MD5.txt
├── CK002
│   ├── CK002_1.clean.fq.gz
│   ├── CK002_2.clean.fq.gz
│   └── MD5.txt
├── 张三
│   ├── 张三_1.clean.fq.gz
│   ├── 张三_2.clean.fq.gz
│   └── MD5.txt</code></pre>
<h2>2. 任务数据信息表准备</h2>
<h3>2.1 请准备一个名为 <code>sampleList.csv</code> 的样本信息表，表中包含了所有样本的信息。</h3>
<blockquote>
<p>样本信息表的内容格式如下：</p>
<ul>
<li><code>Server</code>：运行服务器名称，此列不需要项目人填写</li>
<li><code>Sample_ID</code>：样本名，与数据文件夹名称一致，<strong>必填</strong></li>
<li><code>Use_Sample</code>：同<code>Sample_ID</code>，校验用，无特殊情况直接复制<code>Sample_ID</code>列即可，不可删除</li>
<li><code>Group_1</code>：样本所属分组，更多分组可以自行添加列<code>Group_2</code>、<code>Group_3</code>等，非必填，无特殊情况直接全填<code>F</code>即可</li>
<li><code>Species</code>：样本物种信息，拉丁名，<strong>必填</strong></li>
<li><code>Ref</code>：去宿主时所用参考基因组信息，<strong>必填</strong>；大部分情况下与<code>Species</code>
列一致，在所选物种没有对应参考基因组时使用近源物种的参考基因组则以此列为准去除宿主。环境样本、已去除宿主的样本等情况请填写<code>none</code></li>
<li><code>Download_link</code>：<code>Ref</code>列使用的参考基因组下载链接，<strong>必填</strong>，请确保链接有效，无链接需自行提供参考基因组文件</li>
</ul>
</blockquote>
<pre><code class="language-shell"># sampleList.csv 示例
cat sampleList.csv

Server,Sample_ID,Use_Sample,Group_1,Species,Ref,Download_link
huatuo,S0001C,S0001C,F,Uropsilus gracilis,Uropsilus gracilis,https://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/004/024/945/GCA_004024945.1_UroGra_v1_BIUU/GCA_004024945.1_UroGra_v1_BIUU_genomic.fna.gz
huatuo,S0002C,S0002C,F,Ochotona thibetana,Ochotona princeps,https://ftp.ncbi.nlm.nih.gov/genomes/all/GCF/030/435/755/GCF_030435755.1_mOchPri1.hap1/GCF_030435755.1_mOchPri1.hap1_genomic.fna.gz
huatuo,S0003C,S0003C,F,Ochotona thibetana,Ochotona princeps,https://ftp.ncbi.nlm.nih.gov/genomes/all/GCF/030/435/755/GCF_030435755.1_mOchPri1.hap1/GCF_030435755.1_mOchPri1.hap1_genomic.fna.gz
huatuo,S0004C,S0004C,F,Ochotona thibetana,Ochotona princeps,https://ftp.ncbi.nlm.nih.gov/genomes/all/GCF/030/435/755/GCF_030435755.1_mOchPri1.hap1/GCF_030435755.1_mOchPri1.hap1_genomic.fna.gz
huatuo,SAM001,SAM001,SAM,Homo sapiens,Homo sapiens,https://ftp.ensembl.org/pub/release-113/fasta/homo_sapiens/dna/Homo_sapiens.GRCh38.dna.primary_assembly.fa.gz
huatuo,CK0002,CK0002,CK,Homo sapiens,Homo sapiens,https://ftp.ensembl.org/pub/release-113/fasta/homo_sapiens/dna/Homo_sapiens.GRCh38.dna.primary_assembly.fa.gz
huatuo,张三,张三,CK,Homo sapiens,Homo sapiens,https://ftp.ensembl.org/pub/release-113/fasta/homo_sapiens/dna/Homo_sapiens.GRCh38.dna.primary_assembly.fa.gz
huatuo,Water1,Water1,F,none,none,https://ftp.ncbi.nlm.nih.gov/genomes/none.fna.gz</code></pre>
<h3>2.2 可准备一个名为 <code>renameList.txt</code> 的样本名修改对应表，第一列为原样本名，第二列为新样本名(与<code>sampleList.csv</code>文件总<code>Sample_ID</code>列对应)，无需表头。如不需要改动样本名，第一列与第二列保持一致即可。</h3>
<blockquote>
<ul>
<li>部分情况下，样本的原始ID来自不同的采样人员，各自的命名风格也不同，不统一和异常的样本命名方式会为下游的分析带来不必要的麻烦。如：</li>
</ul>
</blockquote>
<table>
<thead>
<tr>
<th>异常情况</th>
<th>异常示例</th>
<th>可能导致问题</th>
</tr>
</thead>
<tbody>
<tr>
<td>以数字开头</td>
<td><code>20240101SDR1</code></td>
<td>数字开头会在R分析中被自动加上引号</td>
</tr>
<tr>
<td>纯数字组成</td>
<td><code>00001</code></td>
<td>被识别为数字<code>00001</code>会自动转化为<code>1</code></td>
</tr>
<tr>
<td>带有特殊符号</td>
<td><code>cd-32-41-♀</code></td>
<td>♀符号不识别，<code>-</code>等符号可能会自动转换为<code>_</code></td>
</tr>
<tr>
<td>带有中文</td>
<td><code>张三</code></td>
<td>中文字符可能会导致乱码</td>
</tr>
<tr>
<td>样本名过长，附带有测序的文库号</td>
<td><code>S0001C_FRAS192003827-1a</code></td>
<td>部分软件过长ID会被截断导致后续ID不匹配</td>
</tr>
</tbody>
</table>
<blockquote>
<ul>
<li>
<p>任务批量处理时按照正则匹配识别样本文件名，因此非常建议将样本名统一为：<strong>固定长度不超过10位的以大写字母开头的格式</strong></p>
</li>
<li>
<p>因此我们提供了<code>renameList.txt</code>以便于在数据处理前将样本ID统一修改。在满足上述<a href="#12-请将原始数据文件按照样本进行分类每个样本一个文件夹文件夹名称为样本名">1.2-1.5</a>的目录结构中，可以将原有的（文件夹名称、文件名称、MD5文件中文件名称）中的样本ID修改为新的统一的样本ID。当然您也可以手动修改，保证修改后符合上述要求即可。</p>
</li>
</ul>
</blockquote>
<pre><code class="language-shell"># renameList.txt 示例
cat renameList.txt

S0001C_FRAS192003827-1a S0001C
S0002C  S0002C
S0003C  S0003C
S0004C  S0004C
SAM001  SAM001
CK002   CK0002
张三  ZSCD01
Water1  Water1</code></pre>
<pre><code class="language-shell"># 修改前后示例

├── 张三
│   ├── 张三_1.clean.fq.gz
│   ├── 张三_2.clean.fq.gz
│   └── MD5.txt

cat MD5.txt
266b3528cfd65e6a5808649cf906d85a  张三_1.clean.fq.gz
da273b2c3e84966d55c48d1a47ce7d6d  张三_2.clean.fq.gz

├── ZSCD01
│   ├── ZSCD01_1.clean.fq.gz
│   ├── ZSCD01_2.clean.fq.gz
│   └── MD5.txt

cat MD5.txt
266b3528cfd65e6a5808649cf906d85a  ZSCD01_1.clean.fq.gz
da273b2c3e84966d55c48d1a47ce7d6d  ZSCD01_2.clean.fq.gz
</code></pre>
<h1>3. 任务运行配置准备</h1>
<blockquote>
<p>运行配置文件为 <code>config.yaml</code>，请根据实际情况修改配置文件中的参数。</p>
</blockquote>
<h2>标准宏基因组上游分析的任务使用默认参数不需要修改，如果有特殊需求请联系我们进行调整。</h2>
<blockquote>
<p>如果对于比对数据库的版本有特殊需求，请单独联系我们进行调整。</p>
<pre><code class="language-shell">db:
kraken2: kraken2_pluspf_20231009_db
humann_chocophlan: humann3_20231017_db/chocophlan-v31
humann_uniref: humann3_20231017_db/uniref
humann_utility_mapping: humann3_20231017_db/utility_mapping
metaphlan: metaphlan_20231214_db
vfdb: vf_20230915_db
rgi: card_20231214_db
dbcan: dbcan_20231214_db
eggnog: eggnog_20240116_db
checkm: checkm_20150116_db
gtdbtk: gtdbtk_20231214_db
taxonkit: taxonkit_20240108_db
mag_db: download_MAGs_20240322_db</code></pre>
</blockquote>
</div></body></html>